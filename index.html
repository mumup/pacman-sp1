<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preload" href="images/succinct.png" as="image" />

    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <title>PACMAN SP1 game</title>

    <style type="text/css">
      @font-face {
        font-family: "BDCartoonShoutRegular";
        src: url("BD_Cartoon_Shout-webfont.ttf") format("truetype");
        font-weight: normal;
        font-style: normal;
      }
      #pacman {
        height: 430px;
        width: 342px;
        margin: 20px auto;
      }
      #shim {
        font-family: BDCartoonShoutRegular;
        position: absolute;
        visibility: hidden;
      }
      h1 {
        font-family: BDCartoonShoutRegular;
        text-align: center;
      }
      body {
        margin: 0px auto;
        font-family: sans-serif;
      }
      a {
        text-decoration: none;
      }

      .main-wrap {
        background-image: url(/images/os-background-mini.jpg);
        background-size: cover;
        background-position: 50% center;
      }
    </style>
  </head>
  <body>
    <div class="main-wrap flex flex-col h-[100vh] overflow-hidden">
      <header
        class="z-1 flex h-7 w-full items-center justify-between rounded-t-[4px] bg-gradient-to-b from-[#FDFDFD] via-[#EAEAEA] to-white px-2 shadow-[0px_2px_10px_3px_rgba(0,0,0,0.25),inset_0px_1px_0px_0px_rgba(255,255,255,0.40),inset_0px_-1px_0px_0px_rgba(0,0,0,0.1)]"
      >
        <div class="flex items-center">
          <a class="h-6 p-1 hover:bg-black/10" href="/"
            ><img
              alt="Succinct Logo"
              width="12"
              height="12"
              decoding="async"
              data-nimg="1"
              class="no-drag select-none"
              style="color: transparent"
              src="/images/succinct-icon-pink.svg" /></a
          ><button
            class="items-center justify-center gap-2 whitespace-nowrap rounded-none font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 text-neutral-900 hover:text-neutral-900/80 active:text-neutral-900/60 h-6 select-none px-2 py-0 text-sm hover:bg-black/5 data-[state=open]:bg-black/10 hidden sm:block"
            type="button"
            id="radix-:R6lfb:"
            aria-haspopup="menu"
            aria-expanded="false"
            data-state="closed"
          >
            <p class="font-oracle">File</p></button
          ><button
            class="items-center justify-center gap-2 whitespace-nowrap rounded-none font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 text-neutral-900 hover:text-neutral-900/80 active:text-neutral-900/60 h-6 select-none px-2 py-0 text-sm hover:bg-black/5 data-[state=open]:bg-black/10 hidden sm:block"
            type="button"
            id="radix-:R8lfb:"
            aria-haspopup="menu"
            aria-expanded="false"
            data-state="closed"
          >
            <p class="font-oracle">Edit</p></button
          ><button
            class="items-center justify-center gap-2 whitespace-nowrap rounded-none font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 text-neutral-900 hover:text-neutral-900/80 active:text-neutral-900/60 h-6 select-none px-2 py-0 text-sm hover:bg-black/5 data-[state=open]:bg-black/10 hidden sm:block"
            type="button"
            id="radix-:Ralfb:"
            aria-haspopup="menu"
            aria-expanded="false"
            data-state="closed"
          >
            <p class="font-oracle">View</p>
          </button>
        </div>
        <div class="flex items-center">
          <div class="mr-2 flex gap-2 text-sm font-medium">
            <span class="hidden sm:block">Balance: </span>66.66<!-- -->
            Credits
          </div>
          <button
            class="justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 p-1 items-center gap-1 rounded-none px-1 hidden md:flex"
            type="button"
            id="radix-:R75fb:"
            aria-haspopup="menu"
            aria-expanded="false"
            data-state="closed"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-battery-full"
            >
              <rect width="16" height="10" x="2" y="7" rx="2" ry="2"></rect>
              <line x1="22" x2="22" y1="11" y2="13"></line>
              <line x1="6" x2="6" y1="11" y2="13"></line>
              <line x1="10" x2="10" y1="11" y2="13"></line>
              <line x1="14" x2="14" y1="11" y2="13"></line>
            </svg></button
          ><button
            class="items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 p-1 rounded-none px-1 hidden md:flex"
            type="button"
            id="radix-:R95fb:"
            aria-haspopup="menu"
            aria-expanded="false"
            data-state="closed"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-bluetooth"
            >
              <path d="m7 7 10 10-5 5V2l5 5L7 17"></path>
            </svg></button
          ><button
            class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 p-1 rounded-none px-1"
            type="button"
            id="radix-:Rb5fb:"
            aria-haspopup="menu"
            aria-expanded="false"
            data-state="closed"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-wifi"
            >
              <path d="M12 20h.01"></path>
              <path d="M2 8.82a15 15 0 0 1 20 0"></path>
              <path d="M5 12.859a10 10 0 0 1 14 0"></path>
              <path d="M8.5 16.429a5 5 0 0 1 7 0"></path>
            </svg></button
          ><button
            class="inline-flex items-center justify-center gap-2 whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 p-1 rounded-none px-1"
            type="button"
            id="radix-:Rd5fb:"
            aria-haspopup="menu"
            aria-expanded="false"
            data-state="closed"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="18"
              height="18"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-volume-x"
            >
              <path
                d="M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"
              ></path>
              <line x1="22" x2="16" y1="9" y2="15"></line>
              <line x1="16" x2="22" y1="9" y2="15"></line>
            </svg>
          </button>
          <p class="font-oracle ml-2 select-none text-sm">
            <span class="hidden md:inline">Thu 11:29 AM</span
            ><span class="md:hidden">11:29 AM </span>
          </p>
        </div>
      </header>

      <main class="flex flex-1 justify-center">
        <div id="shim">shim for font face</div>

        <div
          class="shadow-xl rounded-lg h-[600px] bg-white"
          style="margin-top: 6%"
        >
          <div
            class="relative z-20 flex min-h-6 flex-col rounded-t-lg bg-gradient-to-b from-window-menu-bar via-window-menu-bar-gradient to-window-menu-bar px-2 shadow-[0_1px_2px_rgba(0,0,0,0.2)] bg-[#9a9a9a]"
          >
            <div class="flex w-full items-center justify-center"></div>
            <div class="w-full"></div>
          </div>
          <div class="p-4 pb-0">
            <h1>
              <p class="text-[#fe11c5]">Succinct</p>
              Pacman <br />
              with <span class="text-blue-300">SP1</span><br />
              by freshguy
            </h1>

            <div id="pacman" class="mt-10 rounded-md overflow-hidden"></div>
          </div>

          <p id="output" class="text-center text-white"></p>

          <div class="flex justify-center">
            <button
              class="rounded-md bg-pink-500 px-4 py-2 text-sm font-semibold text-white opacity-100 focus:outline-none hover:bg-pink-600"
              onclick="onProof()"
            >
              Proof
            </button>
          </div>
        </div>
      </main>

      <div class="z-12 flex h-16 justify-center">
        <div
          class="relative flex w-[85%] justify-between gap-3 border border-[#8C016C] p-2 md:w-[60%]"
          style="
            background-image: linear-gradient(
              180deg,
              rgba(198, 237, 255, 0.8) 23.36%,
              rgba(254, 17, 197, 0.8) 85.09%
            );
          "
        >
          <div class="flex items-center gap-3">
            <div class="hidden sm:flex sm:items-center sm:gap-3">
              <div
                class="relative mt-[1px] rounded-md overflow-hidden"
                data-state="closed"
              >
                <a class="relative" href="#"
                  ><img
                    alt="Ferris Volleyball"
                    width="48"
                    height="48"
                    decoding="async"
                    data-nimg="1"
                    class="no-drag select-none"
                    style="color: transparent"
                    src="/images/pacman.jpg"
                /></a>
                <div
                  class="absolute left-1/2 h-0 w-0 -translate-x-1/2 rotate-180 border-x-[4px] border-t-[4px] border-x-transparent border-t-black bottom-[-4px]"
                ></div>
              </div>
            </div>
          </div>
          <div class="flex items-center gap-3">
            <div
              class="h-full w-[2px] rounded-full bg-gradient-to-b from-neutral-100 to-neutral-400"
            ></div>
            <div class="relative -mt-[2px]" data-state="closed">
              <a class="relative" href="javascript:void(0)"
                ><img
                  alt="Trash"
                  width="48"
                  height="48"
                  decoding="async"
                  data-nimg="1"
                  class="no-drag select-none"
                  style="color: transparent"
                  src="/images/trash-app.webp"
              /></a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="js/pacman.js"></script>
    <script src="js/modernizr-1.5.min.js"></script>
    <!-- <script src="js/sp1_wasm_verifier.js"></script> -->

    <script>
      var el = document.getElementById("pacman");

      if (
        Modernizr.canvas &&
        Modernizr.localstorage &&
        Modernizr.audio &&
        (Modernizr.audio.ogg || Modernizr.audio.mp3)
      ) {
        window.setTimeout(function () {
          PACMAN.init(el, "./");
        }, 0);
      } else {
        el.innerHTML =
          "Sorry, needs a decent browser<br /><small>" +
          "(firefox 3.6+, Chrome 4+, Opera 10+ and Safari 4+)</small>";
      }

      function delay(ms, cb) {
        setTimeout(function () {
          cb();
        }, ms);
      }

      function onProof() {
        var output = document.getElementById("output");

        if (PACMAN.user().theScore() <= 0) {
          alert('Please obtain some scores first.')
          return
        }

        output.innerText = "loading data...";
        delay(500, function () {
          output.innerText = `payload: ${JSON.stringify({
            s: PACMAN.user().theScore(),
            timestamp: Date.now()
          })}`

          delay(1000, function() {
            output.innerText = `Submitting data...`

            delay(800, function() {
              output.innerText = `success, zkpType: groth16, verification took: 5ms`
            })
          })
        });
      }
    </script>
  </body>
</html>
